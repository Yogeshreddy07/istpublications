<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit an Article - IST Publications</title>
    <link href="https://fonts.googleapis.com/css?family=Merriweather:wght@300,400,700&family=Roboto:wght@400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* --- CSS VARIABLES RESET --- */
        :root {
            --primary: #003366;
            --secondary: #00509E;
            --accent: #FFD700;
            --text-dark: #333333;
            --text-light: #666666;
            --bg-light: #f4f7f6;
            --white: #ffffff;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Roboto", sans-serif;
            color: var(--text-dark);
            background-color: var(--bg-light);
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1, h2, h3 {
            font-family: "Merriweather", serif;
            color: var(--primary);
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: 0.3s;
        }

        ul {
            list-style: none;
        }

        /* --- NAVIGATION --- */
        .top-bar {
            background-color: var(--primary);
            color: var(--white);
            padding: 10px 5%;
            font-size: 0.8rem;
            display: flex;
            justify-content: space-between;
        }

        header {
            background: var(--white);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 5%;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo span {
            color: var(--secondary);
            font-weight: 400;
            font-size: 1.4rem;
        }

        .nav-links {
            display: flex;
            gap: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            align-items: center;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--secondary);
            border-bottom: 2px solid var(--accent);
        }

        .btn-login {
            background-color: var(--primary);
            color: var(--white);
            padding: 8px 20px;
            border-radius: 4px;
        }

        .btn-login:hover {
            background-color: var(--secondary);
        }

        .menu-toggle {
            display: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: var(--primary);
        }

        .menu-close {
            display: none;
        }

        /* --- CONTACT TAB DRAWER --- */
        .contact-tab {
            position: fixed;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary);
            color: var(--white);
            padding: 15px 10px;
            border-top-right-radius: 8px;
            border-bottom-right-radius: 8px;
            cursor: pointer;
            z-index: 995;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
            writing-mode: vertical-rl;
            text-orientation: mixed;
            font-weight: bold;
            letter-spacing: 1px;
            transition: 0.3s;
        }

        .contact-tab:hover {
            background: var(--secondary);
            padding-left: 15px;
        }

        .contact-drawer {
            position: fixed;
            top: 0;
            right: -400px;
            width: 350px;
            height: 100vh;
            background: var(--white);
            box-shadow: -4px 0 15px rgba(0, 0, 0, 0.2);
            z-index: 2000;
            transition: right 0.4s ease-in-out;
            padding: 30px;
            overflow-y: auto;
        }

        .contact-drawer.active {
            right: 0;
        }

        .drawer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
        }

        .close-drawer {
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
        }

        .close-drawer:hover {
            color: var(--primary);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: "Roboto", sans-serif;
        }

        .btn-submit {
            width: 100%;
            background-color: var(--primary);
            color: var(--white);
            padding: 12px;
            border: none;
            border-radius: 4px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }

        .btn-submit:hover {
            background-color: var(--secondary);
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 998;
            display: none;
        }

        .overlay.active {
            display: block;
        }

        /* --- PAGE HEADER --- */
        .page-header {
            background: linear-gradient(rgba(0, 51, 102, 0.9), rgba(0, 51, 102, 0.8));
            color: var(--white);
            padding: 60px 5%;
            text-align: center;
        }

        .page-header h1 {
            color: var(--white);
            margin-bottom: 10px;
        }

        /* --- MAIN LAYOUT --- */
        .main-container {
            max-width: 1000px;
            margin: 50px auto;
            padding: 0 5%;
        }

        /* --- STEPS NAVIGATION --- */
        .steps-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 50px;
            width: 100%;
            position: relative;
        }

        .step {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .step-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--bg-light);
            border: 3px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--text-dark);
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
            transition: 0.3s;
        }

        .step.active .step-circle {
            background: var(--primary);
            border-color: var(--primary);
            color: var(--white);
            box-shadow: 0 0 0 4px rgba(0, 51, 102, 0.1);
        }

        .step.completed .step-circle {
            background: #28a745;
            border-color: #28a745;
            color: var(--white);
        }

        .step-label {
            font-size: 0.85rem;
            font-weight: 500;
            text-align: center;
            color: var(--text-light);
            padding: 0 5px;
        }

        .step.active .step-label {
            color: var(--primary);
        }

        .step-line {
            position: absolute;
            top: 23px;
            left: 50%;
            width: 100%;
            height: 4px;
            background: #e0e0e0;
            z-index: -1;
            transition: 0.3s;
        }

        .step:last-child .step-line {
            display: none;
        }

        .step.completed .step-line {
            background: #28a745;
        }

        @media (max-width: 768px) {
            .step-circle {
                width: 40px;
                height: 40px;
                font-size: 0.8rem;
            }
            .step-line {
                top: 18px;
            }
        }

        /* --- FORM CARD --- */
        .form-card {
            background: var(--white);
            padding: 40px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            display: none;
        }

        .form-card.active {
            display: block;
        }

        .form-card h2 {
            margin-bottom: 30px;
            font-size: 1.8rem;
            border-bottom: 2px solid var(--secondary);
            padding-bottom: 15px;
        }

        /* --- FILE UPLOAD --- */
        .file-upload-area {
            border: 2px dashed var(--secondary);
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            background: rgba(0, 51, 102, 0.05);
            cursor: pointer;
            transition: 0.3s;
            margin: 20px 0;
        }

        .file-upload-area:hover {
            background: rgba(0, 51, 102, 0.1);
            border-color: var(--primary);
        }

        .file-upload-area i {
            font-size: 2.5rem;
            color: var(--secondary);
            display: block;
            margin-bottom: 10px;
        }

        .file-list {
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
        }

        .file-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 4px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .file-item-name {
            font-size: 0.9rem;
            color: var(--text-dark);
        }

        .file-item-remove {
            color: #dc3545;
            cursor: pointer;
            font-weight: bold;
        }

        /* --- CHECKBOXES --- */
        .checkbox-group {
            margin: 20px 0;
        }

        .checkbox-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 4px;
        }

        .checkbox-item input[type="checkbox"] {
            margin-right: 12px;
            margin-top: 4px;
            cursor: pointer;
            width: auto;
            flex-shrink: 0;
        }

        .checkbox-item label {
            flex: 1;
            cursor: pointer;
            margin: 0;
            font-size: 0.9rem;
            color: var(--text-light);
            line-height: 1.5;
        }

        /* --- BUTTONS --- */
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: flex-end;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 4px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
            font-size: 0.95rem;
        }

        .btn-primary {
            background-color: var(--primary);
            color: var(--white);
        }

        .btn-primary:hover {
            background-color: var(--secondary);
        }

        .btn-secondary {
            background-color: #6c757d;
            color: var(--white);
        }

        .btn-secondary:hover {
            background-color: #5a6268;
        }

        /* --- FOOTER --- */
        footer {
            background: var(--primary);
            color: var(--white);
            padding: 50px 5%;
            margin-top: 50px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .footer-col h4 {
            color: var(--accent);
            margin-bottom: 20px;
            font-family: "Roboto", sans-serif;
        }

        .footer-col ul li {
            margin-bottom: 10px;
        }

        .footer-col ul li a:hover {
            color: var(--accent);
        }

        .copyright {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.8rem;
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 1200px) {
            .steps-container {
                gap: 8px;
            }
            .step-label {
                font-size: 0.8rem;
            }
        }

        @media (max-width: 992px) {
            .top-bar {
                flex-direction: row;
                gap: 15px;
                font-size: 0.75rem;
                justify-content: space-between;
                align-items: center;
                padding: 10px 5%;
            }
            .nav-links {
                position: fixed;
                top: 0;
                left: -100%;
                width: 280px;
                height: 100vh;
                background: var(--white);
                flex-direction: column;
                padding: 60px 20px;
                box-shadow: 4px 0 10px rgba(0, 0, 0, 0.1);
                transition: left 0.3s ease-in-out;
                z-index: 999;
                align-items: flex-start;
            }
            .nav-links.active {
                left: 0;
            }
            .nav-links li {
                width: 100%;
                border-bottom: 1px solid #eee;
                padding: 10px 0;
            }
            .menu-toggle {
                display: block;
            }
            .menu-close {
                display: block;
                position: absolute;
                top: 20px;
                right: 20px;
                font-size: 1.5rem;
                cursor: pointer;
            }
            .main-container {
                margin: 30px auto;
                padding: 0 3%;
            }
            .form-card {
                padding: 20px;
            }
            .form-card h2 {
                font-size: 1.5rem;
                margin-bottom: 20px;
            }
            .button-group {
                flex-direction: column-reverse;
                gap: 10px;
            }
            .btn {
                width: 100%;
                padding: 10px 20px;
                font-size: 0.9rem;
            }
            .contact-drawer {
                width: 85%;
                right: -100% !important;
            }
            .contact-drawer.active {
                right: 0 !important;
            }
            .steps-container {
                gap: 5px;
                margin-bottom: 30px;
            }
            .step {
                min-width: 80px;
            }
            .step-circle {
                width: 45px;
                height: 45px;
                font-size: 0.85rem;
            }
            .step-label {
                font-size: 0.65rem;
                margin-top: 5px;
            }
            .step-line {
                top: 22px;
            }
            .file-upload-area {
                padding: 20px;
            }
            .file-upload-area i {
                font-size: 2rem;
            }
            .checkbox-item {
                padding: 10px;
                margin-bottom: 10px;
            }
            .checkbox-item label {
                font-size: 0.85rem;
            }
            .form-group {
                margin-bottom: 12px;
            }
            .form-group input,
            .form-group textarea,
            .form-group select {
                padding: 8px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 768px) {
            .top-bar {
                padding: 8px 3%;
                font-size: 0.7rem;
                flex-direction: row;
                justify-content: space-between;
                gap: 10px;
            }
            .nav-container {
                padding: 12px 3%;
            }
            .logo {
                font-size: 1.6rem;
                gap: 8px;
            }
            .logo span {
                font-size: 1.1rem;
            }
            .main-container {
                margin: 20px auto;
                padding: 0 2%;
            }
            .page-header {
                padding: 40px 3%;
            }
            .page-header h1 {
                font-size: 1.8rem;
                margin-bottom: 8px;
            }
            .page-header p {
                font-size: 0.9rem;
            }
            .form-card {
                padding: 15px;
                border-radius: 6px;
            }
            .form-card h2 {
                font-size: 1.3rem;
                margin-bottom: 15px;
                padding-bottom: 10px;
            }
            .steps-container {
                gap: 3px;
                margin-bottom: 25px;
            }
            .step {
                min-width: 70px;
            }
            .step-circle {
                width: 40px;
                height: 40px;
                border: 2px solid #ddd;
                font-size: 0.8rem;
                margin-bottom: 5px;
            }
            .step.active .step-circle {
                box-shadow: 0 0 0 3px rgba(0, 51, 102, 0.1);
            }
            .step-label {
                font-size: 0.6rem;
            }
            .step-line {
                top: 20px;
            }
            .form-group {
                margin-bottom: 10px;
            }
            .form-group label {
                font-size: 0.85rem;
                margin-bottom: 4px;
            }
            .form-group input,
            .form-group textarea,
            .form-group select {
                padding: 8px;
                font-size: 0.85rem;
                border-radius: 3px;
            }
            textarea {
                min-height: 80px !important;
            }
            .file-upload-area {
                padding: 15px;
                margin: 15px 0;
            }
            .file-upload-area i {
                font-size: 1.8rem;
                margin-bottom: 8px;
            }
            .file-upload-area p {
                font-size: 0.8rem;
            }
            .file-item {
                padding: 8px;
                margin-bottom: 6px;
                font-size: 0.8rem;
            }
            .checkbox-item {
                padding: 8px;
                margin-bottom: 8px;
            }
            .checkbox-item input[type="checkbox"] {
                margin-right: 8px;
            }
            .checkbox-item label {
                font-size: 0.8rem;
            }
            .button-group {
                gap: 8px;
                margin-top: 20px;
            }
            .btn {
                padding: 10px 20px;
                font-size: 0.85rem;
            }
            .contact-tab {
                padding: 12px 8px;
                font-size: 0.7rem;
            }
            footer {
                padding: 30px 3%;
            }
            .footer-grid {
                gap: 20px;
            }
            .footer-col h4 {
                font-size: 0.95rem;
                margin-bottom: 10px;
            }
            .footer-col ul li {
                font-size: 0.85rem;
            }
            .copyright {
                font-size: 0.7rem;
                margin-top: 20px;
                padding-top: 15px;
            }
        }

        @media (max-width: 480px) {
            .top-bar {
                padding: 8px 2%;
                flex-direction: row;
                gap: 8px;
                justify-content: space-between;
                align-items: center;
            }
            .top-bar span {
                font-size: 0.65rem;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }
            .nav-container {
                padding: 10px 2%;
                flex-direction: row;
                gap: 15px;
                justify-content: space-between;
                align-items: center;
            }
            .logo {
                font-size: 1.4rem;
                gap: 6px;
            }
            .logo span {
                font-size: 1rem;
            }
            .menu-toggle {
                font-size: 1.5rem;
            }
            .main-container {
                margin: 0 auto;
                padding: 0 3%;
                width: 100%;
                max-width: 100%;
            }
            .page-header {
                padding: 30px 3%;
                margin: 0;
            }
            .page-header h1 {
                font-size: 1.5rem;
                margin-bottom: 5px;
            }
            .page-header p {
                font-size: 0.8rem;
            }
            .steps-container {
                gap: 2px;
                margin-bottom: 20px;
                flex-wrap: nowrap;
                overflow-x: auto;
                padding-bottom: 5px;
            }
            .step {
                min-width: 60px;
            }
            .step-circle {
                width: 38px;
                height: 38px;
                font-size: 0.75rem;
                border: 2px solid #ddd;
            }
            .step-label {
                font-size: 0.55rem;
            }
            .step-line {
                top: 19px;
            }
            .form-card {
                padding: 12px;
                margin-bottom: 15px;
            }
            .form-card h2 {
                font-size: 1.2rem;
                margin-bottom: 12px;
                padding-bottom: 8px;
            }
            .form-group {
                margin-bottom: 8px;
            }
            .form-group label {
                font-size: 0.8rem;
                margin-bottom: 3px;
            }
            .form-group input,
            .form-group textarea,
            .form-group select {
                padding: 6px;
                font-size: 0.8rem;
                border-radius: 3px;
            }
            textarea {
                min-height: 70px !important;
            }
            .file-upload-area {
                padding: 12px;
                margin: 12px 0;
                border-radius: 6px;
            }
            .file-upload-area i {
                font-size: 1.5rem;
                margin-bottom: 6px;
            }
            .file-upload-area p {
                font-size: 0.75rem;
            }
            .file-item {
                padding: 6px;
                margin-bottom: 5px;
                font-size: 0.75rem;
            }
            .checkbox-item {
                padding: 6px;
                margin-bottom: 6px;
            }
            .checkbox-item input[type="checkbox"] {
                margin-right: 6px;
                margin-top: 2px;
            }
            .checkbox-item label {
                font-size: 0.75rem;
            }
            .button-group {
                gap: 6px;
                margin-top: 15px;
            }
            .btn {
                padding: 8px 16px;
                font-size: 0.8rem;
            }
            .btn i {
                font-size: 0.75rem;
            }
            .contact-tab {
                padding: 10px 6px;
                font-size: 0.6rem;
                letter-spacing: 0.5px;
            }
            footer {
                padding: 20px 2%;
            }
            .footer-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            .footer-col h4 {
                font-size: 0.9rem;
                margin-bottom: 8px;
            }
            .footer-col ul li {
                font-size: 0.8rem;
            }
            .copyright {
                font-size: 0.65rem;
                margin-top: 15px;
                padding-top: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Contact Drawer (No changes) -->
    <div class="overlay" id="overlay"></div>
    <div class="contact-tab" id="contact-tab">
        <i class="fas fa-envelope"></i> QUICK CONTACT
    </div>
    <div class="contact-drawer" id="contact-drawer">
        <div class="drawer-header">
            <h3>Get in Touch</h3>
            <div class="close-drawer" id="close-drawer"><i class="fas fa-times"></i></div>
        </div>
        <div>
            <p style="margin-bottom: 20px; font-size: 0.9rem; color: #666;">We typically reply within 24 hours.</p>
            <form id="contactForm">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email ID</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone">
                </div>
                <div class="form-group">
                    <label for="subject">Subject</label>
                    <select id="subject" required>
                        <option value="">-- Select Subject --</option>
                        <option value="papersubmission">Paper Submission</option>
                        <option value="generalinquiry">General Inquiry</option>
                        <option value="buyjournal">Buy Journal or Book</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" rows="4"></textarea>
                </div>
                <button type="submit" class="btn-submit">Send Message</button>
            </form>
        </div>
    </div>

    <!-- Top Bar -->
    <div class="top-bar">
        <span><i class="fas fa-check-circle"></i> Fully Open Access</span>
        <span><i class="fas fa-envelope"></i> info@istpublications.com</span>
    </div>

    <!-- Header & Navigation -->
    <header>
        <div class="nav-container">
            <a href="index.html" class="logo">
                <i class="fas fa-book-open"></i> IST <span>Publications</span>
            </a>
            <div class="menu-toggle" id="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </div>
            <ul class="nav-links" id="nav-links">
                <div class="menu-close" id="menu-close-btn">
                    <i class="fas fa-times"></i>
                </div>
                <li><a href="index.html">Home</a></li>
                <li><a href="achievers">Editorial Board</a></li>
                <li><a href="journals.html" class="active">Journals</a></li>
                <li><a href="books">Books</a></li>
                <li><a href="projects">Projects</a></li>
                <li><a href="notices">Notices</a></li>
                <li><a href="guidelines.html">Guidelines</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="">Contact Us</a></li>
                <li><a href="login" class="btn-login">Login</a></li>
            </ul>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <h1>Submit an Article</h1>
        <p>Publish your research with IST Publications</p>
    </section>

    <!-- Main Form Container -->
    <div class="main-container">
        <!-- Steps Navigation -->
        <div class="steps-container">
            <div class="step active" id="step-1-indicator">
                <div class="step-line"></div>
                <div class="step-circle">1</div>
                <div class="step-label">Start</div>
            </div>
            <div class="step" id="step-2-indicator">
                <div class="step-line"></div>
                <div class="step-circle">2</div>
                <div class="step-label">Enter Metadata</div>
            </div>
            <div class="step" id="step-3-indicator">
                <div class="step-line"></div>
                <div class="step-circle">3</div>
                <div class="step-label">Upload Submission</div>
            </div>
            <div class="step" id="step-4-indicator">
                <div class="step-line"></div>
                <div class="step-circle">4</div>
                <div class="step-label">Reviewers</div>
            </div>
            <div class="step" id="step-5-indicator">
                <div class="step-line"></div>
                <div class="step-circle">5</div>
                <div class="step-label">Confirmation</div>
            </div>
            <div class="step" id="step-6-indicator">
                <div class="step-line"></div>
                <div class="step-circle">6</div>
                <div class="step-label">Next Steps</div>
            </div>
        </div>

        <!-- FORM STEP 1 -->
        <div class="form-card active" id="form-1">
            <h2><i class="fas fa-play-circle"></i> Step 1 Start</h2>
            
            <div class="form-group">
                <label><strong>Section Policy</strong></label>
                <p style="margin-top: 10px; color: var(--text-light);">Original Research Articles present novel, unpublished research findings that make a clear and substantive contribution to knowledge in engineering, technology, computing, basic sciences, architecture, or management-related disciplines within the scope of the journal. Submissions should demonstrate originality, methodological rigor, appropriate analysis, and meaningful interpretation of results.</p>
            </div>

            <div class="form-group">
                <label><strong>Structure of the Manuscript</strong></label>
                <p style="margin-top: 10px; color: var(--text-light);">An Original Research Article should normally be organised using the following core sections, as appropriate to the nature of the study</p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Title</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Abstract and keywords prepared in accordance with the Author Guidelines</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Introduction</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Materials and Methods Methodology</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Results</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Discussion</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Conclusions</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Acknowledgements (if applicable)</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Declarations (conflict of interest, funding, ethics, as applicable)</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">References</li>
                </ul>
            </div>

            <div class="form-group">
                <label><strong>Length and Presentation</strong></label>
                <p style="margin-top: 10px; color: var(--text-light);">The typical length of an Original Research Article is 2,500–3,400 words, excluding references. Authors should ensure clarity, logical flow, and consistency in presentation. Figures and tables should be of high quality and directly relevant to the research findings.</p>
            </div>

            <div class="form-group">
                <label><strong>Evaluation Criteria</strong></label>
                <p style="margin-top: 10px; color: var(--text-light);">Original Research Articles are evaluated based on the following criteria</p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Originality and novelty of the contribution</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Relevance to the journal's scope</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Methodological soundness and technical rigor</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Quality and clarity of analysis and interpretation</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Significance and impact of the results</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Overall presentation and scholarly clarity</li>
                </ul>
                <p style="margin-top: 15px; color: var(--text-light);">Manuscripts that do not meet these criteria may be declined during initial editorial screening.</p>
            </div>

            <div class="form-group">
                <label><strong>Categories</strong></label>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Artificial Intelligence and Machine Learning (AI/ML)</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Architecture and Architectural Design</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Basic Sciences &amp; Mathematics</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Biomedical Sciences and Bioengineering</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Business Sciences</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Computer Science</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Data Sciences</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Economics</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Engineering and Technology</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">Management</li>
                </ul>
            </div>

            <div class="form-group">
                <label><strong>Submission Requirements</strong></label>
                <p style="margin-top: 10px; color: var(--text-light); font-weight: bold;">You must read and ensure that all the following requirements are fulfilled before proceeding.</p>
                <ul style="margin-left: 20px; margin-top: 15px;">
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">The manuscript represents original work that has not been published previously and is not under consideration elsewhere, and it falls within the aims and scope of IST Publications.</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">The appropriate article type has been selected, and the manuscript is structured in accordance with the Author Guidelines for that article type.</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">The manuscript includes an unstructured abstract of 150–200 words and 4–6 relevant keywords.</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">All required declarations have been included, where applicable, including conflict of interest, funding disclosure, ethics approval and consent, data availability, and AI usage statements.</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">The abstract is unstructured and typically ranges from 150 to 200 words.</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">The manuscript is written in clear and concise English, prepared in an acceptable file format (Microsoft Word or Rich Text), and follows the journal's formatting and reference style (IEEE).</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">All listed authors have made significant contributions, approved the final version of the manuscript, and agree to its submission to the journal.</li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 8px;">The manuscript is prepared in an acceptable file format (Microsoft Word, Rich Text Format, or LaTeX).</li>
                </ul>
            </div>

            <div class="form-group">
                <label for="step1-comments"><strong>Comments for the Editor</strong></label>
                <textarea id="step1-comments" rows="4" placeholder="Add any comments for the editor..."></textarea>
            </div>

            <div class="form-group">
                <label><strong>Corresponding Contact</strong></label>
                <div class="checkbox-item">
                    <input type="checkbox" id="corresponding">
                    <label for="corresponding">Yes, I would like to be contacted about this submission.</label>
                </div>
            </div>

            <div class="form-group">
                <label><strong>Acknowledge the copyright statement</strong></label>
                <p style="margin-top: 10px; color: var(--text-light); font-weight: bold;">Copyright and Licensing</p>
                <p style="margin-top: 10px; color: var(--text-light);">By submitting an article to the <em>IST Publications</em>, authors understand and agree to the following terms and conditions governing the publication and use of their work.</p>
                <p style="margin-top: 10px; color: var(--text-light);">Upon acceptance of a manuscript for publication in the <em>International Journal of Future Innovative Science and Engineering Research (IJFISER)</em>, <strong>the copyright of the published article is transferred to the journal</strong>. International Journal of Future Innovative Science and Engineering Research (IJFISER) and its publisher, <strong>IST Publications</strong>, thereby become the <strong>copyright holder</strong> of the work.</p>
                <p style="margin-top: 10px; color: var(--text-light);">Commercial use of any content published in IST Publications is <strong>not permitted</strong> without prior written permission from the journal.</p>
                <p style="margin-top: 15px; color: var(--text-light); font-weight: bold;">Author Responsibilities</p>
                <p style="margin-top: 10px; color: var(--text-light);">Authors are responsible for ensuring that all submitted content is original and that any third-party copyrighted material included in the manuscript has been used with appropriate permission and proper attribution.</p>
                <p style="margin-top: 10px; color: var(--text-light);">Submission of a manuscript to IST Publications signifies the author's agreement to comply with the journal's publication ethics, research integrity policies, and editorial standards.</p>
                <p style="margin-top: 10px; color: var(--text-light);">The journal appreciates your interest in publishing with the <em>International Journal of Future Innovative Science and Engineering Research (IJFISER)</em> and looks forward to disseminating high-quality scholarly work within an ethical and open-access publishing framework.</p>
                <div class="checkbox-group" style="margin-top: 15px;">
                    <div class="checkbox-item">
                        <input type="checkbox" id="copyright">
                        <label for="copyright">Yes, I agree to abide by the terms of the copyright statement.</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="privacy">
                        <label for="privacy">Yes, I agree to have my data collected and stored according to the <a href="https://jcmm.co.in/index.php/jcmm/about/privacy" target="_blank" style="color: var(--secondary); font-weight: bold;">privacy statement</a>.</label>
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="nextStep()">Next <i class="fas fa-arrow-right"></i></button>
            </div>
        </div>

        <!-- FORM STEP 2 -->
        <div class="form-card" id="form-2">
            <h2><i class="fas fa-info-circle"></i> Step 2 Enter Metadata</h2>
            <h3 style="font-family: Merriweather, serif; color: var(--secondary); margin-bottom: 15px; font-size: 1.2rem; border-bottom: 2px solid #eee; padding-bottom: 10px;">Author Details</h3>
            <div style="background: var(--bg-light); padding: 20px; border-radius: 4px; margin-bottom: 20px;">
                <h4 style="margin-bottom: 15px; color: var(--primary); font-size: 1rem;">Main Author (Corresponding)</h4>
                <div class="form-group">
                    <label for="main-name">Full Name <span style="color: red;">*</span></label>
                    <input type="text" id="main-name" placeholder="e.g. Dr. John Doe" required>
                </div>
                <div class="form-group">
                    <label for="main-email">Email ID <span style="color: red;">*</span></label>
                    <input type="email" id="main-email" placeholder="e.g. john.doe@example.com" required>
                </div>
                <div class="form-group">
                    <label for="main-affiliation">Affiliation <span style="color: red;">*</span></label>
                    <input type="text" id="main-affiliation" placeholder="e.g. Department of Science, XYZ University" required>
                </div>
            </div>

            <div id="co-authors-container"></div>

            <div class="form-group" style="text-align: right; margin-bottom: 30px;">
                <button type="button" id="btn-add-author" class="btn" style="background: transparent; border: 2px dashed var(--secondary); color: var(--secondary); width: 100%;" onclick="addCoAuthor()">
                    <i class="fas fa-plus-circle"></i> Add Co-Author (Max 4)
                </button>
            </div>

            <h3 style="font-family: Merriweather, serif; color: var(--secondary); margin-bottom: 15px; font-size: 1.2rem; border-bottom: 2px solid #eee; padding-bottom: 10px;">Article Metadata</h3>

            <div class="form-group">
                <label for="title">Article Title <span style="color: red;">*</span></label>
                <input type="text" id="title" placeholder="Enter article title" required>
            </div>

            <div class="form-group">
                <label for="abstract">Abstract <span style="color: red;">*</span></label>
                <textarea id="abstract" rows="6" placeholder="Enter abstract (150-200 words)" required></textarea>
                <small style="color: var(--text-light);">150-200 words recommended</small>
            </div>

            <div class="form-group">
                <label for="keywords">Keywords <span style="color: red;">*</span></label>
                <input type="text" id="keywords" placeholder="Enter keywords (comma separated)" required>
            </div>

            <div class="form-group">
                <label for="category">Category <span style="color: red;">*</span></label>
                <select id="category" required>
                    <option value="">-- Select Category --</option>
                    <option value="ai">Artificial Intelligence and Machine Learning (AI/ML)</option>
                    <option value="architecture">Architecture and Architectural Design</option>
                    <option value="basic">Basic Sciences & Mathematics</option>
                    <option value="biomedical">Biomedical Sciences and Bioengineering</option>
                    <option value="business">Business Sciences</option>
                    <option value="cs">Computer Science</option>
                    <option value="data">Data Sciences</option>
                    <option value="economics">Economics</option>
                    <option value="engineering">Engineering and Technology</option>
                    <option value="management">Management</option>
                </select>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevStep()"><i class="fas fa-arrow-left"></i> Back</button>
                <button class="btn btn-primary" onclick="nextStep()">Next <i class="fas fa-arrow-right"></i></button>
            </div>
        </div>

        <!-- FORM STEP 3 -->
        <div class="form-card" id="form-3">
            <h2><i class="fas fa-upload"></i> Step 3 Upload Submission</h2>
            <div class="form-group">
                <label><strong>Files</strong></label>
                <p style="margin-top: 5px; font-size: 0.9rem; color: var(--text-light);">Upload any files the editorial team will need to evaluate your submission. <a href="" style="color: var(--secondary); font-weight: bold;">Upload File</a></p>
            </div>
            <div class="file-upload-area" onclick="document.getElementById('fileInput').click()">
                <i class="fas fa-cloud-upload-alt"></i>
                <p><strong>Drop files here or click to browse</strong></p>
                <p style="font-size: 0.85rem; color: var(--text-light);">Supported formats: PDF, DOC, DOCX, RTF</p>
            </div>
            <input type="file" id="fileInput" style="display: none;" multiple onchange="handleFileUpload()">
            <div class="file-list" id="fileList"></div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevStep()"><i class="fas fa-arrow-left"></i> Back</button>
                <button class="btn btn-primary" onclick="nextStep()">Next <i class="fas fa-arrow-right"></i></button>
            </div>
        </div>

        <!-- FORM STEP 4 -->
        <div class="form-card" id="form-4">
            <h2><i class="fas fa-users"></i> Step 4 Suggestive Reviewers</h2>
            <div class="form-group">
                <p style="margin-bottom: 20px; font-size: 0.95rem; color: var(--text-light);">Details of Suggestive Reviewers</p>
            </div>

            <div style="padding: 20px; background: #fcfcfc; border: 1px solid #eee; border-radius: 4px; margin-bottom: 20px;">
                <h3 style="font-size: 1.1rem; margin-bottom: 15px; color: var(--secondary);">Reviewer 1 <span style="font-size: 0.8rem; color: #dc3545; font-weight: 400;">Required</span></h3>
                <div class="form-group">
                    <label for="rev1-prefix">Prefix</label>
                    <select id="rev1-prefix" required>
                        <option value="">-- Select --</option>
                        <option value="Dr">Dr.</option>
                        <option value="Prof">Prof.</option>
                        <option value="Mr">Mr.</option>
                        <option value="Ms">Ms.</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="rev1-name">Name</label>
                    <input type="text" id="rev1-name" required placeholder="Full Name">
                </div>
                <div class="form-group">
                    <label for="rev1-email">Email</label>
                    <input type="email" id="rev1-email" required placeholder="Email Address">
                </div>
                <div class="form-group">
                    <label for="rev1-department">Department</label>
                    <input type="text" id="rev1-department" required placeholder="Department">
                </div>
                <div class="form-group">
                    <label for="rev1-affiliation">Affiliation</label>
                    <input type="text" id="rev1-affiliation" required placeholder="University/Organization">
                </div>
            </div>

            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="add-rev2-toggle" onchange="toggleReviewer2()">
                    <label for="add-rev2-toggle"><strong>Add Reviewer 2 (Optional)</strong></label>
                </div>
            </div>

            <div id="reviewer2-container" style="display: none; padding: 20px; background: #fcfcfc; border: 1px solid #eee; border-radius: 4px; margin-bottom: 20px;">
                <h3 style="font-size: 1.1rem; margin-bottom: 15px; color: var(--secondary);">Reviewer 2</h3>
                <div class="form-group">
                    <label for="rev2-prefix">Prefix</label>
                    <select id="rev2-prefix">
                        <option value="">-- Select --</option>
                        <option value="Dr">Dr.</option>
                        <option value="Prof">Prof.</option>
                        <option value="Mr">Mr.</option>
                        <option value="Ms">Ms.</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="rev2-name">Name</label>
                    <input type="text" id="rev2-name" placeholder="Full Name">
                </div>
                <div class="form-group">
                    <label for="rev2-email">Email</label>
                    <input type="email" id="rev2-email" placeholder="Email Address">
                </div>
                <div class="form-group">
                    <label for="rev2-department">Department</label>
                    <input type="text" id="rev2-department" placeholder="Department">
                </div>
                <div class="form-group">
                    <label for="rev2-affiliation">Affiliation</label>
                    <input type="text" id="rev2-affiliation" placeholder="University/Organization">
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevStep()"><i class="fas fa-arrow-left"></i> Back</button>
                <button class="btn btn-primary" onclick="nextStep()">Next <i class="fas fa-arrow-right"></i></button>
            </div>
        </div>

        <!-- FORM STEP 5 -->
        <div class="form-card" id="form-5">
            <h2><i class="fas fa-check-circle"></i> Step 5 Confirmation</h2>
            <p style="margin-bottom: 20px; font-size: 0.95rem; color: var(--text-light);">Your submission has been uploaded and is ready to be sent. You may go back to review and adjust any of the information you have entered before continuing. When you are ready, click Finish Submission.</p>
            <div style="background: #f8f9fa; border-left: 4px solid var(--secondary); padding: 20px; border-radius: 4px; margin-bottom: 30px;">
                <p style="color: var(--text-dark); margin: 0;"><strong> <span style="color: red;">*</span> Denotes required field</strong></p>
            </div>

            <div class="form-group">
                <label><strong>Acknowledge the copyright statement</strong></label>
                <p style="margin-top: 10px; color: var(--text-light);">By submitting an article to the <em>IST Publications</em>, authors understand and agree to the following terms and conditions governing the publication and use of their work.</p>
                <div class="checkbox-group" style="margin-top: 15px;">
                    <div class="checkbox-item">
                        <input type="checkbox" id="check1" required>
                        <label for="check1">Yes, I agree to abide by the terms of the copyright statement.</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="check2" required>
                        <label for="check2">Yes, I agree to have my data collected and stored according to the <a href="https://jcmm.co.in/index.php/jcmm/about/privacy" target="_blank" style="color: var(--secondary); font-weight: bold;">privacy statement</a>.</label>
                    </div>
                </div>
            </div>

            <p style="margin-top: 30px; margin-bottom: 20px; font-size: 0.85rem; color: var(--text-light);"><span style="color: red;">*</span> Denotes required field</p>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevStep()"><i class="fas fa-arrow-left"></i> Back</button>
                <button class="btn btn-primary" onclick="nextStep()">Finish Submission <i class="fas fa-arrow-right"></i></button>
            </div>
        </div>

        <!-- FORM STEP 6 - Success -->
        <div class="form-card" id="form-6">
            <h2><i class="fas fa-flag-checkered"></i> Step 6 Submission Complete</h2>
            <div style="background: #d4edda; border: 1px solid #c3e6cb; border-radius: 8px; padding: 20px; margin: 20px 0; text-align: center;">
                <i class="fas fa-check-circle" style="font-size: 3rem; color: #28a745; margin-bottom: 15px; display: block;"></i>
                <h3 style="color: #28a745; margin-bottom: 10px;">Thank you for your interest!</h3>
                <p style="color: var(--text-light); margin-bottom: 0;">Your submission has been received and the journal has been notified. You'll receive a confirmation email shortly.</p>
            </div>

            <div style="background: var(--bg-light); border-radius: 8px; padding: 20px; margin: 20px 0;">
                <h3 style="margin-bottom: 15px; font-size: 1.2rem;">What Happens Next?</h3>
                <p style="color: var(--text-light); margin-bottom: 15px;">The journal has been notified of your submission, and you've been emailed a confirmation for your records. Once the editor has reviewed the submission, they will contact you with the review status.</p>
                <p style="color: var(--text-light); font-weight: bold; margin-bottom: 15px;">For now, you can</p>
                <ul style="margin-left: 20px;">
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 10px;"><a href="" style="color: var(--secondary); font-weight: bold;">Review this submission</a></li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 10px;"><a href="" style="color: var(--secondary); font-weight: bold;">Create a new submission</a></li>
                    <li style="list-style: disc; color: var(--text-light); margin-bottom: 10px;"><a href="index.html" style="color: var(--secondary); font-weight: bold;">Return to your dashboard</a></li>
                </ul>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="window.location.href='index.html'">Return to Dashboard</button>
                <button class="btn btn-primary" onclick="newSubmission()">Create New Submission</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-grid">
            <div class="footer-col">
                <h4>IST Publications</h4>
                <p>Innovative Science and Technology Publications.</p>
            </div>
            <div class="footer-col">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="journals.html">Journals</a></li>
                    <li><a href="submit.html">Submit Manuscript</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Policies</h4>
                <ul>
                    <li><a href="">Ethics Malpractice</a></li>
                    <li><a href="">Peer Review Policy</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">&copy; 2025 IST Publications. All rights reserved.</div>
    </footer>

    <script>
        // ===== CORRECTED collectStep1Data FUNCTION (FIXED) =====
        function collectStep1Data() {
            console.log('→ Validating Step 1...');
            
            // Safe element getter
            const getElement = (id) => {
                const el = document.getElementById(id);
                return el;
            };
            
            // Safe value getter
            const getValue = (id, defaultValue = '') => {
                const el = getElement(id);
                return el ? el.value.trim() : defaultValue;
            };
            
            // Safe checkbox getter - handles null gracefully
            const getChecked = (id) => {
                const el = getElement(id);
                return el ? (el.checked || false) : false;
            };
            
            // Get all values safely
            const step1Comments = getValue('step1-comments');
            
            // Try multiple IDs - prefer new names, fallback to old names
            const copyright = 
                getChecked('copyright-agreement') ||  // New ID
                getChecked('copyright');               // Old ID fallback
            
            const privacy = 
                getChecked('privacy-agreement') ||   // New ID
                getChecked('privacy');                // Old ID fallback
            
            const corresponding = 
                getChecked('corresponding-contact') || // New ID
                getChecked('corresponding');           // Old ID fallback
            
            console.log(`Copyright: ${copyright}, Privacy: ${privacy}, Corresponding: ${corresponding}`);
            
            // Validation
            if (!copyright) {
                alert('❌ Please agree to the copyright statement to proceed.');
                return false;
            }
            if (!privacy) {
                alert('❌ Please agree to the privacy statement to proceed.');
                return false;
            }
            
            // Store data
            formData.step1 = {
                comments: step1Comments,
                copyright_agreed: copyright,
                privacy_agreed: privacy,
                corresponding_contact: corresponding
            };
            
            console.log('✅ Step 1 Data Validated');
            return true;
        }

        // ===== REST OF JAVASCRIPT (ORIGINAL - NO CHANGES) =====
        let currentStep = 1;
        const totalSteps = 6;
        const uploadedFiles = [];
        const fileObjects = {}; // Store File objects by name

        // STEP NAVIGATION UI UPDATES
        function updateStepIndicators() {
            for (let i = 1; i <= totalSteps; i++) {
                const indicator = document.getElementById(`step-${i}-indicator`);
                const form = document.getElementById(`form-${i}`);
                if (indicator && form) {
                    indicator.classList.remove('active', 'completed');
                    form.classList.remove('active');
                    if (i < currentStep) {
                        indicator.classList.add('completed');
                    } else if (i === currentStep) {
                        indicator.classList.add('active');
                        form.classList.add('active');
                    }
                }
            }
            window.scrollTo(0, 0);
        }

        // STEP CONTROL FUNCTIONS
        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                updateStepIndicators();
            }
        }

        // CO-AUTHOR MANAGEMENT
        let coAuthorCount = 0;
        const maxCoAuthors = 4;

        function addCoAuthor() {
            if (coAuthorCount >= maxCoAuthors) {
                alert(`Maximum ${maxCoAuthors} co-authors allowed.`);
                return;
            }

            coAuthorCount++;
            const container = document.getElementById('co-authors-container');
            const authorId = `co-author-${Date.now()}`;

            const wrapper = document.createElement('div');
            wrapper.id = authorId;
            wrapper.style.cssText = `background: #fff; border: 1px solid #ddd; border-left: 4px solid var(--accent); padding: 20px; border-radius: 4px; margin-bottom: 20px; position: relative;`;

            wrapper.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h4 style="margin: 0; color: var(--text-dark); font-size: 1rem;">Co-Author ${coAuthorCount}</h4>
                    <span onclick="removeCoAuthor('${authorId}')" style="color: #dc3545; cursor: pointer; font-weight: bold; font-size: 0.9rem;">
                        <i class="fas fa-trash"></i> Remove
                    </span>
                </div>
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" placeholder="Co-Author Name" class="co-author-name">
                </div>
                <div class="form-group">
                    <label>Email ID</label>
                    <input type="email" placeholder="Co-Author Email" class="co-author-email">
                </div>
                <div class="form-group">
                    <label>Affiliation</label>
                    <input type="text" placeholder="University/Organization" class="co-author-affiliation">
                </div>
            `;

            container.appendChild(wrapper);
            updateAddButton();
        }

        function removeCoAuthor(id) {
            const element = document.getElementById(id);
            if (element) {
                element.remove();
                coAuthorCount--;
                // Renumber remaining authors
                const container = document.getElementById('co-authors-container');
                const authors = container.children;
                for (let i = 0; i < authors.length; i++) {
                    const title = authors[i].querySelector('h4');
                    if (title) {
                        title.innerText = `Co-Author ${i + 1}`;
                    }
                }
                updateAddButton();
            }
        }

        function updateAddButton() {
            const btn = document.getElementById('btn-add-author');
            if (coAuthorCount >= maxCoAuthors) {
                btn.style.display = 'none';
            } else {
                btn.style.display = 'block';
                btn.innerHTML = `<i class="fas fa-plus-circle"></i> Add Co-Author (${coAuthorCount}/${maxCoAuthors})`;
            }
        }

        // FILE UPLOAD HANDLING - PROPERLY STORES FILE OBJECTS
        function handleFileUpload() {
            const fileInput = document.getElementById('fileInput');
            const fileList = document.getElementById('fileList');
            uploadedFiles.length = 0;
            fileList.innerHTML = '';

            Array.from(fileInput.files).forEach((file, index) => {
                uploadedFiles.push(file.name);
                fileObjects[file.name] = file; // Store File object
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                const fileSizeMB = (file.size / 1024 / 1024).toFixed(2);
                fileItem.innerHTML = `
                    <span class="file-item-name"><i class="fas fa-file"></i> ${file.name} (${fileSizeMB} MB)</span>
                    <span class="file-item-remove" onclick="removeFile(${index})">Remove</span>
                `;
                fileList.appendChild(fileItem);
            });
            console.log('Files uploaded:', uploadedFiles);
        }

        function removeFile(index) {
            const fileName = uploadedFiles[index];
            uploadedFiles.splice(index, 1);
            delete fileObjects[fileName];
            document.getElementById('fileList').innerHTML = '';
            uploadedFiles.forEach((filename, idx) => {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                const file = fileObjects[filename];
                const fileSizeMB = file ? (file.size / 1024 / 1024).toFixed(2) : 'unknown';
                fileItem.innerHTML = `
                    <span class="file-item-name"><i class="fas fa-file"></i> ${filename} (${fileSizeMB} MB)</span>
                    <span class="file-item-remove" onclick="removeFile(${idx})">Remove</span>
                `;
                document.getElementById('fileList').appendChild(fileItem);
            });
        }

        // FORM DATA VALIDATION COLLECTION
        function collectStep2Data() {
            // Main Author
            const mainName = document.getElementById('main-name').value.trim();
            const mainEmail = document.getElementById('main-email').value.trim();
            const mainAffiliation = document.getElementById('main-affiliation').value.trim();

            if (!mainName || !mainEmail || !mainAffiliation) {
                alert('Please fill all main author fields.');
                return false;
            }

            // Co-Authors - FIXED
            const coAuthors = [];
            const coAuthorElements = document.querySelectorAll('#co-authors-container div');
            coAuthorElements.forEach((element) => {
                const nameInput = element.querySelector('.co-author-name');
                const emailInput = element.querySelector('.co-author-email');
                const affiliationInput = element.querySelector('.co-author-affiliation');
                if (nameInput && emailInput && affiliationInput) {
                    const coAuthor = {
                        fullname: nameInput.value.trim(),
                        email: emailInput.value.trim(),
                        affiliation: affiliationInput.value.trim(),
                    };
                    if (coAuthor.fullname && coAuthor.email) {
                        coAuthors.push(coAuthor);
                    }
                }
            });

            // Article Metadata
            const title = document.getElementById('title').value.trim();
            const abstract = document.getElementById('abstract').value.trim();
            const keywords = document.getElementById('keywords').value.trim();
            const category = document.getElementById('category').value;

            if (!title || title.length < 10) {
                alert('Title must be at least 10 characters long.');
                return false;
            }
            if (!abstract) {
                alert('Please enter abstract.');
                return false;
            }
            const wordCount = abstract.split(/\s+/).length;
            if (wordCount < 150) {
                alert(`Abstract must be at least 150 words (current: ${wordCount} words).`);
                return false;
            }
            if (!keywords) {
                alert('Please enter keywords.');
                return false;
            }
            const keywordArray = keywords.split(',').map((k) => k.trim());
            if (keywordArray.length < 4 || keywordArray.length > 6) {
                alert('Please enter 4-6 keywords (comma separated).');
                return false;
            }
            if (!category) {
                alert('Please select a category.');
                return false;
            }

            console.log('Step 2 Data Validated');
            return true;
        }

        function collectStep3Data() {
            if (uploadedFiles.length === 0) {
                alert('Please upload at least one file.');
                return false;
            }
            console.log('Step 3 Files Validated:', uploadedFiles);
            return true;
        }

        function collectStep4Data() {
            const rev1Name = document.getElementById('rev1-name').value.trim();
            const rev1Email = document.getElementById('rev1-email').value.trim();
            const rev1Department = document.getElementById('rev1-department').value.trim();
            const rev1Affiliation = document.getElementById('rev1-affiliation').value.trim();

            if (!rev1Name || !rev1Email || !rev1Department || !rev1Affiliation) {
                alert('Please fill all Reviewer 1 fields.');
                return false;
            }

            console.log('Step 4 Data Validated');
            return true;
        }

        function collectStep5Data() {
            const check1 = document.getElementById('check1').checked;
            const check2 = document.getElementById('check2').checked;

            if (!check1) {
                alert('Please agree to copyright terms.');
                return false;
            }
            if (!check2) {
                alert('Please agree to privacy terms.');
                return false;
            }

            console.log('Step 5 Data Validated');
            return true;
        }

        // NEXT STEP WITH VALIDATION
        const formData = {};
        function nextStep() {
            console.log(`Validating Step ${currentStep}...`);
            let isValid = true;

            switch (currentStep) {
                case 1:
                    isValid = collectStep1Data();
                    break;
                case 2:
                    isValid = collectStep2Data();
                    break;
                case 3:
                    isValid = collectStep3Data();
                    break;
                case 4:
                    isValid = collectStep4Data();
                    break;
                case 5:
                    isValid = collectStep5Data();
                    break;
                case 6:
                    break;
            }

            if (!isValid) {
                console.log('Validation failed');
                return;
            }

            // Special handling for step 5 - 6 Submit
            if (currentStep === 5) {
                console.log('Submitting form to API...');
                submitFormToAPI();
                return;
            }

            // Normal progression
            if (currentStep < totalSteps) {
                currentStep++;
                updateStepIndicators();
                console.log(`Now at Step ${currentStep}`);
            }
        }

        // REVIEWER TOGGLE
        function toggleReviewer2() {
            const container = document.getElementById('reviewer2-container');
            const checkbox = document.getElementById('add-rev2-toggle');
            if (checkbox.checked) {
                container.style.display = 'block';
            } else {
                container.style.display = 'none';
            }
        }

        // NEW SUBMISSION RESET
        function newSubmission() {
            currentStep = 1;
            document.querySelectorAll('input[type="text"], input[type="email"], textarea, select').forEach((el) => {
                el.value = '';
            });
            document.querySelectorAll('input[type="checkbox"]').forEach((el) => {
                el.checked = false;
            });
            uploadedFiles.length = 0;
            Object.keys(fileObjects).forEach((key) => {
                delete fileObjects[key];
            });
            const fileList = document.getElementById('fileList');
            if (fileList) fileList.innerHTML = '';
            document.getElementById('reviewer2-container').style.display = 'none';
            coAuthorCount = 0;
            document.getElementById('co-authors-container').innerHTML = '';
            updateAddButton();
            updateStepIndicators();
        }

        // API SUBMISSION - FIXED JSON FORMAT
        const API_BASE_URL = 'https://istpublications.onrender.com/api';
        const SUBMIT_ENDPOINT = `${API_BASE_URL}/submit-article/`;

        async function submitFormToAPI() {
            console.log('Starting form submission to API...');
            try {
                // SAFE FUNCTION: Get value or empty string
                const safeGetValue = (id) => {
                    const el = document.getElementById(id);
                    return el ? el.value.trim() : '';
                };

                // SAFE FUNCTION: Get checkbox or false
                const safeGetChecked = (id) => {
                    const el = document.getElementById(id);
                    return el ? el.checked : false;
                };

                // ✅ BACKEND EXPECTS: full_name (not fullname)
                const jsonPayload = {
                    // Step 1 data
                    step1_comments: safeGetValue('step1-comments'),
                    corresponding_contact: safeGetChecked('corresponding'),
                    copyright_agreed: safeGetChecked('check1'),
                    privacy_agreed: safeGetChecked('check2'),
                    
                    // Article metadata (Step 2)
                    title: safeGetValue('title'),
                    abstract: safeGetValue('abstract'),
                    keywords: safeGetValue('keywords'),
                    category: document.getElementById('category') ? document.getElementById('category').value : '',
                    
                    // Main author (Step 2) - ✅ FIXED: full_name (not fullname)
                    main_author: {
                        full_name: safeGetValue('main-name'),
                        email: safeGetValue('main-email'),
                        affiliation: safeGetValue('main-affiliation')
                    },
                    
                    // Reviewer 1 (Step 4) - ✅ FIXED: full_name (not fullname)
                    reviewer_1: {
                        full_name: safeGetValue('rev1-name'),
                        email: safeGetValue('rev1-email'),
                        title: safeGetValue('rev1-prefix'),
                        affiliation: safeGetValue('rev1-affiliation')
                    }
                };

                // Add co-authors if present (Step 2) - ✅ FIXED: full_name
                const coAuthorNames = document.querySelectorAll('#co-authors-container .co-author-name');
                if (coAuthorNames.length > 0) {
                    jsonPayload.co_authors = [];
                    const coAuthorEmails = document.querySelectorAll('#co-authors-container .co-author-email');
                    const coAuthorAffiliations = document.querySelectorAll('#co-authors-container .co-author-affiliation');
                    coAuthorNames.forEach((nameEl, idx) => {
                        if (nameEl.value.trim() && coAuthorEmails[idx].value.trim()) {
                            jsonPayload.co_authors.push({
                                full_name: nameEl.value.trim(),
                                email: coAuthorEmails[idx].value.trim(),
                                affiliation: coAuthorAffiliations[idx] ? coAuthorAffiliations[idx].value.trim() : '',
                                country: 'India'
                            });
                        }
                    });
                }

                // Add reviewer 2 if selected (Step 4) - ✅ FIXED: full_name
                if (safeGetChecked('add-rev2-toggle') && safeGetValue('rev2-name')) {
                    jsonPayload.reviewer_2 = {
                        full_name: safeGetValue('rev2-name'),
                        email: safeGetValue('rev2-email'),
                        title: safeGetValue('rev2-prefix'),
                        affiliation: safeGetValue('rev2-affiliation'),
                        country: 'India' // ✅ Backend may require this
                    };
                }

                // ✅ DEBUG: Log payload structure before sending
                console.log('🔍 MAIN AUTHOR:', jsonPayload.main_author);
                console.log('🔍 REVIEWER 1:', jsonPayload.reviewer_1);
                console.log('Sending JSON payload:', jsonPayload);
                const response = await fetch(SUBMIT_ENDPOINT, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(jsonPayload)
                });

                console.log('Response status:', response.status);                    if (!response.ok) {
                    const errorData = await response.json();
                    console.error('API Error Details:', errorData);
                    let errorMsg = 'Submission failed:\n\n';
                    
                    // Handle nested errors (main_author, reviewer_1, etc.)
                    if (typeof errorData === 'object') {
                        Object.keys(errorData).forEach((key) => {
                            if (typeof errorData[key] === 'object' && errorData[key] !== null) {
                                // Nested object error (e.g., main_author.full_name)
                                Object.keys(errorData[key]).forEach((nestedKey) => {
                                    if (Array.isArray(errorData[key][nestedKey])) {
                                        errorMsg += `❌ ${key}.${nestedKey}: ${errorData[key][nestedKey].join(', ')}\n`;
                                    } else {
                                        errorMsg += `❌ ${key}.${nestedKey}: ${errorData[key][nestedKey]}\n`;
                                    }
                                });
                            } else if (Array.isArray(errorData[key])) {
                                errorMsg += `❌ ${key}: ${errorData[key].join(', ')}\n`;
                            } else if (errorData[key]) {
                                errorMsg += `❌ ${key}: ${errorData[key]}\n`;
                            }
                        });
                    }
                    
                    alert(errorMsg || 'Submission failed. Please check all required fields.');
                    return false;
                }

                const result = await response.json();
                console.log('Submission successful:', result);

                // Extract submission number from response
                const submissionNumber = result.submission_number || 'PENDING';

                // Display success message with submission number
                alert(`Submission successful! Number: ${submissionNumber}\nYou will receive a confirmation email shortly.`);

                // Show success step (Step 6)
                currentStep = 6;
                updateStepIndicators();

                // Update step 6 with actual submission number
                const successDiv = document.querySelector('#form-6');
                if (successDiv) {
                    successDiv.innerHTML = `
                        <h2><i class="fas fa-check-circle" style="color: #28a745;"></i> Submission Successful!</h2>
                        <div style="text-align: center; padding: 40px 0;">
                            <i class="fas fa-check-circle" style="font-size: 3rem; color: #28a745; margin-bottom: 15px; display: block;"></i>
                            <h3 style="color: #28a745; margin-bottom: 10px;">Thank you for your submission!</h3>
                            <p style="color: var(--text-light); margin-bottom: 0; font-size: 1.1rem;"><strong>Submission Number: ${submissionNumber}</strong></p>
                            <p style="color: var(--text-light); margin-top: 10px;">Your submission has been received and the journal has been notified. You'll receive a confirmation email shortly.</p>
                            <p style="color: var(--text-light); margin-top: 20px; font-size: 0.9rem;"><strong>What happens next?</strong><br/>Your article will be reviewed by our editorial team. You'll receive updates via email at each stage of the review process.</p>
                        </div>
                    `;
                }

                return true;
            } catch (error) {
                console.error('Error:', error);
                console.error('Error Stack:', error.stack);
                alert(`An error occurred during submission: ${error.message}`);
                return false;
            }
        }

        // CONTACT DRAWER
        const overlay = document.getElementById('overlay');
        const contactTab = document.getElementById('contact-tab');
        const contactDrawer = document.getElementById('contact-drawer');
        const closeDrawerBtn = document.getElementById('close-drawer');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const menuCloseBtn = document.getElementById('menu-close-btn');
        const navLinks = document.getElementById('nav-links');

        function toggleMobileMenu() {
            navLinks.classList.toggle('active');
            if (!contactDrawer.classList.contains('active')) {
                overlay.classList.toggle('active');
            }
        }

        function openContactDrawer() {
            contactDrawer.classList.add('active');
            overlay.classList.add('active');
        }

        function closeAll() {
            navLinks.classList.remove('active');
            contactDrawer.classList.remove('active');
            overlay.classList.remove('active');
        }

        mobileMenuBtn.addEventListener('click', toggleMobileMenu);
        menuCloseBtn.addEventListener('click', closeAll);
        contactTab.addEventListener('click', openContactDrawer);
        closeDrawerBtn.addEventListener('click', closeAll);
        overlay.addEventListener('click', closeAll);

        // CONTACT FORM SUBMISSION
        document.addEventListener('DOMContentLoaded', function () {
            const contactForm = document.getElementById('contactForm');
            if (!contactForm) {
                console.error('Contact form not found!');
                return;
            }

            contactForm.addEventListener('submit', async function (e) {
                e.preventDefault();
                console.log('Contact form submitted');

                const formData = {
                    name: document.getElementById('name').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    subject: document.getElementById('subject').value,
                    message: document.getElementById('message').value,
                };

                console.log('Form data:', formData);

                const submitBtn = contactForm.querySelector('button[type="submit"]');
                const originalBtnText = submitBtn.textContent;
                submitBtn.disabled = true;
                submitBtn.textContent = 'Sending...';

                try {
                    const response = await fetch('https://istpublications.onrender.com/api/contact/', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(formData),
                    });

                    const result = await response.json();

                    if (response.ok) {
                        alert('Message sent successfully!');
                        contactForm.reset();
                        closeAll();
                    } else {
                        let errorMsg = 'Error';
                        if (result.errors) {
                            Object.keys(result.errors).forEach((field) => {
                                errorMsg = `${field}: ${result.errors[field]}`;
                            });
                        } else if (result.message) {
                            errorMsg = result.message;
                        }
                        alert(errorMsg);
                    }
                } catch (error) {
                    console.error('Error:', error);
                    alert(`Error: ${error.message}`);
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalBtnText;
                }
            });
        });

        console.log('ALL SYSTEMS INTEGRATED AND READY!');
    </script>
</body>
</html>
